{
  "$jsonSchema": {
    "title": "dish",
    "bsonType": "object",
    "required": [
      "_id",
      "restaurant_id",
      "sn",
      "name",
      "pinyin",
      "signature",
      "cold",
      "price",
      "weigh",
      "by_time",
      "cost",
      "commission",
      "discount",
      "minimum_quantity",
      "logo",
      "introduction",
      "sold_out",
      "status",
      "create_time",
      "update_time"
    ],
    "properties": {
      "_id": {
        "bsonType": "objectId"
      },
      "restaurant_id": {
        "bsonType": "objectId"
      },
      "sn": {
        "bsonType": "string"
      },
      "name": {
        "bsonType": "string"
      },
      "pinyin": {
        "bsonType": "string"
      },
      "signature": {
        "bsonType": "bool"
      },
      "cold": {
        "bsonType": "bool"
      },
      "tags": {
        "bsonType": "array",
        "items": {
          "bsonType": "objectId"
        }
      },
      "price": {
        "bsonType": "number"
      },
      "vip": {
        "bsonType": "number"
      },
      "weigh": {
        "bsonType": "bool"
      },
      "by_time": {
        "bsonType": "bool"
      },
      "cost": {
        "bsonType": "number"
      },
      "commission": {
        "bsonType": "number"
      },
      "discount": {
        "bsonType": "bool"
      },
      "minimum_quantity": {
        "bsonType": "number"
      },
      "dine": {
        "bsonType": "object",
        "required": [
          "service",
          "tax"
        ],
        "properties": {
          "service": {
            "bsonType": "number"
          },
          "tax": {
            "bsonType": "number"
          }
        }
      },
      "takeout": {
        "bsonType": "object",
        "required": [
          "service",
          "tax"
        ],
        "properties": {
          "service": {
            "bsonType": "number"
          },
          "tax": {
            "bsonType": "number"
          }
        }
      },
      "special": {
        "bsonType": "object",
        "required": [
          "price",
          "period"
        ],
        "properties": {
          "price": {
            "bsonType": "number"
          },
          "period": {
            "bsonType": "array",
            "items": {
              "bsonType": "date"
            }
          },
          "maximum_order": {
            "bsonType": "number"
          },
          "maximum_daily": {
            "bsonType": "number"
          }
        }
      },
      "specification": {
        "bsonType": "object",
        "required": [
          "unit",
          "items"
        ],
        "properties": {
          "unit": {
            "bsonType": "string"
          },
          "items": {
            "bsonType": "array",
            "required": [
              "name",
              "price",
              "default",
              "enabled"
            ],
            "items": {
              "bsonType": "object",
              "properties": {
                "name": {
                  "bsonType": "string"
                },
                "original": {
                  "bsonType": "number"
                },
                "price": {
                  "bsonType": "number"
                },
                "cost": {
                  "bsonType": "number"
                },
                "vip": {
                  "bsonType": "number"
                },
                "default": {
                  "bsonType": "bool"
                },
                "enabled": {
                  "bsonType": "bool"
                }
              }
            }
          }
        }
      },
      "preorder": {
        "bsonType": "object",
        "required": [
          "way"
        ],
        "properties": {
          "way": {
            "bsonType": "number",
            "enum": [
              1,
              2
            ]
          },
          "quantity": {
            "bsonType": "number"
          }
        }
      },
      "methods": {
        "bsonType": "array",
        "items": {
          "bsonType": "objectId"
        }
      },
      "flavors": {
        "bsonType": "array",
        "items": {
          "bsonType": "objectId"
        }
      },
      "logo": {
        "bsonType": "string"
      },
      "pictures": {
        "bsonType": "array",
        "items": {
          "bsonType": "string"
        }
      },
      "introduction": {
        "bsonType": "string"
      },
      "sold_out": {
        "bsonType": "bool"
      },
      "sales": {
        "bsonType": "number"
      },
      "sort": {
        "bsonType": "number"
      },
      "status": {
        "bsonType": "bool"
      },
      "create_time": {
        "bsonType": "date"
      },
      "update_time": {
        "bsonType": "date"
      }
    }
  }
}
